!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).url=e()}(this,function(){"use strict";function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function r(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,n;e=r,t=o[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e=0<arguments.length&&void 0!==t?t:window.location.href;try{return e.includes("?")?e.split("?")[1].match(/([^&=]*)=([^&]*)/g).reduce(function(t,e){return t[e.split("=")[0]]=decodeURIComponent(e.split("=")[1]),t},{}):{}}catch(t){return{}}}function u(n,r){return Object.keys(r).reduce(function(t,e){return t+((t===n?"?":"&")+"".concat(e,"=").concat(encodeURIComponent(r[e])))},n)}function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.freeze({__proto__:null,getCurUrl:function(){return window.location.href},formatUrl:function(t){t=0<arguments.length&&void 0!==t?t:window.location.href;return new URL(t)},getQuery:c,getQueryByKeys:function(t){var t=0<arguments.length&&void 0!==t?t:[],n=c();return t.length?t.reduce(function(t,e){return t[e]=n[e],t},{}):n},urlSerialize:u,paramSerialize:function(t,e,n){t=0<arguments.length&&void 0!==t?t:{},e=1<arguments.length&&void 0!==e?e:window.location.href,t=2<arguments.length&&void 0!==n&&n?r(r({},c(e)),t):t,e=e.split("?")[0];return u(e,t)},serialize:function(t){var n=0<arguments.length&&void 0!==t?t:{};return Object.keys(n).reduce(function(t,e){return t+"&".concat(e,"=").concat(encodeURIComponent(n[e]))},"").slice(1)},wxAuthUrlFmt:function(t){var e=t.match(/\?(\S*)#/);if(e&&e.length){e=e[0].slice(1,-1),t=t.replace("?"+e,"");var n=e.match(/([^&=]*)=([^&]*)/g);return n&&n.length?(n=n.filter(function(t){return 2==t.split("=").length}),t.includes("?")&&(n=(o(new Set(n)).join("&")+"&"+t.split("?")[1]).match(/([^&=]*)=([^&]*)/g).filter(function(t){return 2==t.split("=").length})),t.split("?")[0]+"?"+o(new Set(n)).join("&")):t+"&"+e}return t},urlTmtFmt:function(t,r){var n=/\{(\w+)\}/g.test(t)?t.replace(/\{(\w+)\}/g,function(t,e){var n=r[e];return delete r[e],n}):t;return Object.keys(r).reduce(function(t,e){return t+((t===n?"?":"&")+"".concat(e,"=").concat(r[e]))},n)},urlParamDelByKey:function(e,t){var n=1<arguments.length&&void 0!==t?t:location.href;if(-1===n.indexOf(e)||-1===n.indexOf("?"))return n;var r=n.split("?")[1].split("&"),t=r.findIndex(function(t){return t.split("=")[0]===e});return-1===t?n:(r.splice(t,1),n.split("?")[0]+(r.length?"?"+r.join("&"):""))},urlParamAdd:function(t,e){var n=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==e?e:window.location.href,e=Object.keys(n);if(!e.length)return r;if(-1===r.indexOf("?"))return e.reduce(function(t,e){return t+((t===r?"?":"&")+"".concat(e,"=").concat(n[e]))},r);var o=r.split("?")[0],i=Object.assign(c(r),n);return Object.keys(i).reduce(function(t,e){return t+((t===o?"?":"&")+"".concat(e,"=").concat(i[e]))},o)},isUrl:function(t){return!!(0<arguments.length&&void 0!==t?t:window.location.href).match(/(?:http|https|mailto|ftp|tel)\:\/\/[^\u4e00-\u9fa5\s<>]*/g)},getUrlParams:function(t){var e={};if(-1!=(t=t=t||location.href).indexOf("?")){-1!=t.indexOf("#")&&(t=t.slice(0,t.length-1));for(var n=t.split("?")[1].split("&"),r=0;r<n.length;r++){var o=n[r].split("=");e[o[0]]=decodeURI(o[1])}}return e},getUrlParams2:function(t){var e={};if(-1==(t=t||location.href).indexOf("?"))return e;for(var n=t.split("?")[1].split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[i[0]]=decodeURI(i[1])}return e},httpsRedirect:function(){"https:"!==location.protocol&&location.replace("https://"+location.href.split("//")[1])},getDomainURI:function(t){t=t.match(/(https|http):\/\/([^\/]+)\//i);return t?t[0]:""}}),new t});
//# sourceMappingURL=index.js.map
