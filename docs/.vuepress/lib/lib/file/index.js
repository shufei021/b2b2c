!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).file=t()}(this,function(){"use strict";function t(e){for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=window.atob(e.split(",")[1]),e=new ArrayBuffer(n.length),o=new Uint8Array(e),i=0,r=n.length;i<r;i++)o[i]=n.charCodeAt(i);return new Blob([o],{type:t})}function n(n){return new Promise(function(e){var t=new FileReader;t.readAsDataURL(n),t.onload=function(){e(this.result)}})}return{bytesFormat:function(e){if(0===e)return"0 B";if(!e)return"";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},base64ToBlob:t,base64ToFile:function(e,t){for(var n=e.split(","),e=n[0].match(/:(.*?);/)[1],o=atob(n[1]),i=o.length,r=new Uint8Array(i);i--;)r[i]=o.charCodeAt(i);return new File([r],t,{type:e})},blobToBase64:function(n){return new Promise(function(t){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(n)})},blobToFile:function(e,t){return new File([e],t,{type:e.type,lastModified:Date.now()})},fileToBase64:n,fileToBlob:function(e){return n(e).then(t)},downloadByBase64:function(e,t){var n=1<arguments.length&&void 0!==t?t:"default",t=document.createElement("a");t.style="display: none",document.body.appendChild(t),t.download=n,t.href=e,document.createEvent?((e=document.createEvent("MouseEvents")).initEvent("click",!0,!1),t.dispatchEvent(e)):document.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick(),document.body.removeChild(t)},downloadByImgLink:function(t,o,i){return new Promise(function(n){var e=new Image;e.src=t,e.crossOrigin="anonymous",e.onload=function(){o=o||this.width,i=i||this.height;var e=document.createElement("canvas"),t=e.getContext("2d");e.setAttribute("width",o),e.setAttribute("height",i),t.drawImage(this,0,0,o,i);e=e.toDataURL("image/png",.95);n(e)}})},downloadByImgSelector:function(e,o){var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0,e.width,e.height);var t=e.toDataURL("image/png"),n=document.createElement("a"),e=new MouseEvent("click");n.download=o||"defaultName",n.href=t,n.dispatchEvent(e)},i.src=("string"==typeof e?document.querySelector(e):e).src}}});
//# sourceMappingURL=index.js.map
