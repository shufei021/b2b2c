{"version":3,"file":"index.js","sources":["../../../src/lib/object/merge.js","../../../src/lib/base/isType.js","../../../src/lib/base/isEquals.js","../../../src/lib/object/index.js","../../../src/lib/object/clone.js","../../../src/lib/object/deepClone.js","../../../src/lib/object/findKey.js"],"sourcesContent":["/**\r\n * 合并两个对象\r\n * @param { Object } f : 需要合并的第一个对象\r\n * @param { Object } s ：需要合并的第二个对象\r\n * @return Object 合并后的对象\r\n */\r\nconst baseMerge = function (f, s) {\r\n    for (var i in s) {\r\n        f[i] = f[i] && f[i].toString() === '[object Object]' ? merge(f[i], s[i]) : (f[i] = s[i])\r\n    }\r\n    return f\r\n}\r\nconst merge = function () {\r\n    return Array.from(arguments).reduce((p, c) => baseMerge(p, c), {})\r\n}\r\nexport default merge\r\n","/**\r\n * @description: 判断传入的值和类型 是否匹配\r\n * @param  {*} value ：传入的值\r\n * @param  {String} type ：传入的类型\r\n * @return {Boolean} false 或 true\r\n */\r\nconst isType = function (val, type) {\r\n    return getType(val) === type\r\n}\r\nexport default isType\r\n","/**\r\n * @param {any} a：比较的值\r\n * @param {any} b：其他要比较的值\r\n */\r\nconst isEquals = function (a, b) {\r\n    if (a === b) return true\r\n    if (a instanceof Date && b instanceof Date) return a.getTime() === b.getTime()\r\n    if (!a || !b || (typeof a !== 'object' && typeof b !== 'object')) return a === b\r\n    if (a.prototype !== b.prototype) return false\r\n    let keys = Object.keys(a)\r\n    if (keys.length !== Object.keys(b).length) return false\r\n    let type = o => Object.prototype.toString.call(o).slice(8, -1)\r\n    return ((Array.isArray(a) && Array.isArray(b)) || (type(a) == 'Object' && type(b) == 'Object')) && keys.every(k => isEquals(a[k], b[k]))\r\n}\r\nexport default isEquals\r\n","import merge from './merge'\r\nimport clone from './clone'\r\nimport deepClone from './deepClone'\r\nimport findKey from './findKey'\r\n\r\nexport default {\r\n    merge,\r\n    clone,\r\n    deepClone,\r\n    findKey\r\n}\r\n","/**\r\n * 浅拷贝\r\n * @param {*} p\r\n */\r\nconst clone = function (p) {\r\n    var o = {}\r\n    for (var i in p) {\r\n        o[i] = p[i]\r\n    }\r\n    return o\r\n}\r\nexport default clone\r\n","import isType from '../base/isType'\r\n\r\n/**\r\n * deep clone\r\n * @param  {[type]} parent object 需要进行克隆的对象\r\n * @return {[type]}        深克隆后的对象\r\n */\r\nconst clone = parent => {\r\n    // 维护两个储存循环引用的数组\r\n    const parents = []\r\n    const children = []\r\n    const _clone = parent => {\r\n        if (parent === null) return null\r\n        if (typeof parent !== 'object') return parent\r\n\r\n        let child, proto\r\n\r\n        if (isType(parent, 'array')) {\r\n            // 对数组做特殊处理\r\n            child = []\r\n        } else if (isType(parent, 'regexp')) {\r\n            // 对正则对象做特殊处理\r\n            child = new RegExp(parent.source, getRegExp(parent))\r\n            if (parent.lastIndex) child.lastIndex = parent.lastIndex\r\n        } else if (isType(parent, 'date')) {\r\n            // 对Date对象做特殊处理\r\n            child = new Date(parent.getTime())\r\n        } else {\r\n            // 处理对象原型\r\n            proto = Object.getPrototypeOf(parent)\r\n            // 利用Object.create切断原型链\r\n            child = Object.create(proto)\r\n        }\r\n\r\n        // 处理循环引用\r\n        const index = parents.indexOf(parent)\r\n\r\n        if (index !== -1) {\r\n            // 如果父数组存在本对象,说明之前已经被引用过,直接返回此对象\r\n            return children[index]\r\n        }\r\n        parents.push(parent)\r\n        children.push(child)\r\n\r\n        for (const i in parent) {\r\n            // 递归\r\n            child[i] = _clone(parent[i])\r\n        }\r\n\r\n        return child\r\n    }\r\n    return _clone(parent)\r\n}\r\n\r\n/**\r\n * 对象深度克隆,\r\n * JSON.stringify深度克隆对象\r\n * 无法对函数 、RegExp等特殊对象的克隆,\r\n * 会抛弃对象的constructor,所有的构造函数会指向Object\r\n * 对象有循环引用,会报错\r\n * @param {Object}  obj 克隆的对象\r\n */\r\nconst deepClone = obj => {\r\n    return clone(obj)\r\n}\r\nexport default deepClone\r\n","/*\r\n * @Author: your name\r\n * @Date: 2021-06-06 13:25:12\r\n * @LastEditTime: 2021-06-06 14:22:00\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\rutils\\src\\lib\\object\\findKey.js\r\n */\r\nimport isEquals from '../base/isEquals'\r\nconst findKey = function (o, v) {\r\n    for (let k in o) {\r\n        if ((typeof v === 'function' && v(o[k])) || (Array.isArray(v) && o[k][v[0]] === v[1]) || (typeof v === 'string' && v in o[k]) || isEquals(o[k], v)) {\r\n            return k\r\n        }\r\n    }\r\n}\r\nexport default findKey\r\n"],"names":["merge","Array","from","arguments","reduce","f","s","i","toString","isType","val","type","getType","isEquals","a","b","Date","getTime","_typeof","prototype","keys","Object","length","isArray","every","k","o","call","slice","clone","p","deepClone","obj","parents","children","_clone","parent","child","RegExp","source","getRegExp","lastIndex","proto","getPrototypeOf","create","index","indexOf","push","findKey","v"],"mappings":"4LAMA,IAMMA,EAAQ,kBACHC,MAAMC,KAAKC,WAAWC,OAPf,SAAUC,EAAGC,OACtB,IAAIC,KAAKD,EACVD,EAAEE,GAAKF,EAAEE,IAA0B,oBAApBF,EAAEE,GAAGC,WAAmCR,EAAMK,EAAEE,GAAID,EAAEC,IAAOF,EAAEE,GAAKD,EAAEC,UAElFF,GAGwD,0OCPpD,SAATI,EAAmBC,EAAKC,UACnBC,QAAQF,KAASC,ECHX,SAAXE,EAAqBC,EAAGC,MACtBD,IAAMC,EAAG,OAAO,KAChBD,aAAaE,MAAQD,aAAaC,KAAM,OAAOF,EAAEG,YAAcF,EAAEE,cAChEH,IAAMC,GAAmB,WAAbG,EAAOJ,IAA+B,WAAbI,EAAOH,GAAiB,OAAOD,IAAMC,KAC3ED,EAAEK,YAAcJ,EAAEI,UAAW,OAAO,MACpCC,EAAOC,OAAOD,KAAKN,UACnBM,EAAKE,SAAWD,OAAOD,KAAKL,GAAGO,UAE1BrB,MAAMsB,QAAQT,IAAMb,MAAMsB,QAAQR,IAAmB,UAAXJ,EAAKG,IAA6B,UAAXH,EAAKI,KAAoBK,EAAKI,MAAM,SAAAC,UAAKZ,EAASC,EAAEW,GAAIV,EAAEU,OADzH,SAAPd,EAAOe,UAAKL,OAAOF,UAAUX,SAASmB,KAAKD,GAAGE,MAAM,GAAI,UCNjD,CACX5B,MAAAA,EACA6B,MCHU,SAAUC,OAEXvB,EADLmB,EAAI,OACCnB,KAAKuB,EACVJ,EAAEnB,GAAKuB,EAAEvB,UAENmB,GDDPK,UEsDc,SAAAC,UArDRC,EAAU,GACVC,EAAW,GACF,SAATC,EAASC,MACI,OAAXA,EAAiB,OAAO,QACN,WAAlBlB,EAAOkB,GAAqB,OAAOA,MAEnCC,EAEA5B,EAAO2B,EAAQ,SAEfC,EAAQ,GACD5B,EAAO2B,EAAQ,WAEtBC,EAAQ,IAAIC,OAAOF,EAAOG,OAAQC,UAAUJ,IACxCA,EAAOK,YAAWJ,EAAMI,UAAYL,EAAOK,YAG/CJ,EAFO5B,EAAO2B,EAAQ,QAEd,IAAIpB,KAAKoB,EAAOnB,YAGxByB,EAAQrB,OAAOsB,eAAeP,GAEtBf,OAAOuB,OAAOF,QAafnC,EATLsC,EAAQZ,EAAQa,QAAQV,OAEf,IAAXS,SAEOX,EAASW,OAKTtC,KAHX0B,EAAQc,KAAKX,GACbF,EAASa,KAAKV,GAEED,EAEZC,EAAM9B,GAAK4B,EAAOC,EAAO7B,WAGtB8B,EAEJF,CAYMH,GAxDH,IAEJC,EACAC,GFDNc,QGAY,SAAUtB,EAAGuB,OACpB,IAAIxB,KAAKC,KACQ,mBAANuB,GAAoBA,EAAEvB,EAAED,KAASxB,MAAMsB,QAAQ0B,IAAMvB,EAAED,GAAGwB,EAAE,MAAQA,EAAE,IAAqB,iBAANA,GAAkBA,KAAKvB,EAAED,IAAOZ,EAASa,EAAED,GAAIwB,UACrIxB"}