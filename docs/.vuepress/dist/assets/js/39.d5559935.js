(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{444:function(t,i,a){"use strict";a.r(i);var r=a(57),_=Object(r.a)({},(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"环境配置与搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境配置与搭建"}},[t._v("#")]),t._v(" 环境配置与搭建")]),t._v(" "),a("h2",{attrs:{id:"环境准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[t._v("#")]),t._v(" 环境准备")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("请先将附件下至本地 "),a("a",{attrs:{href:"https://annex.handday.cn/Annex/Download?id=105643",target:"_blank",rel:"noopener noreferrer"}},[t._v("附件"),a("OutboundLink")],1)])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("查看电脑是否有网络")]),t._v(" "),a("p",[t._v("台式机有线连接")]),t._v(" "),a("p",[t._v("笔记本可以无线连接 Wifi")]),t._v(" "),a("ul",[a("li",[t._v("hand_2.4G(yf) 密码："),a("span",{staticStyle:{color:"red"}},[t._v("hand_yf2.4")])]),t._v(" "),a("li",[t._v("Hand_5G 密码："),a("span",{staticStyle:{color:"red"}},[t._v("hand_5G_nb")])])])]),t._v(" "),a("li",[a("p",[t._v("安装 IIS")]),t._v(" "),a("p",[t._v("点击启用或关闭 windows 功能，把下图所有关于 IIS 的功能，装全（重要，要不然运行不起）")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_1.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("安装 memcached")]),t._v(" "),a("ul",[a("li",[t._v("下载 memcached（附件中有）")]),t._v(" "),a("li",[t._v("使用管理里模式进入 cmd")]),t._v(" "),a("li",[t._v("输入 memcached.exe -d install")]),t._v(" "),a("li",[t._v("在服务中（使用 services.msc 进入），把 memcached 启动起来")])])]),t._v(" "),a("li",[a("p",[t._v("安装 Visual Studio")]),t._v(" "),a("p",[t._v("统一安装版本为 2019 专业版（附件中提取）")]),t._v(" "),a("p",[t._v("统一使用官方在线安装包安装（附件中提取）")])]),t._v(" "),a("li",[a("p",[t._v("安装 git 工具")])])]),t._v(" "),a("p",[t._v("下载地址："),a("a",{attrs:{href:"https://git-scm.com/download/win",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://git-scm.com/download/win"),a("OutboundLink")],1),t._v("（更多版本自己到官方查看）（也可以在附件中提取）（也可以在 Visual Studio 中安装）")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_2.png",alt:"图片"}})]),t._v(" "),a("h2",{attrs:{id:"代码获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码获取"}},[t._v("#")]),t._v(" 代码获取")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("到运维部“陈路露”处申请开通 GIT 账号")])]),t._v(" "),a("li",[a("p",[t._v("所有开发约定本地磁盘代码库的根目录为“D:\\develop[代码库目录]” ，如“http://gitlab.midays.com/root/zztx_solution.git”克隆到本地的根目录为“D:\\develop\\zztx_solution”。")])]),t._v(" "),a("li",[a("p",[t._v("右键点击 Git Bash Here，也可以通过 Visual Studio 的克隆功能克隆到本地")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_3.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("使用 http 协议拉取公司代码，代码地址：http://gitlab.midays.com/root/zztx_solution.git")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_4.png",alt:"图片"}})]),t._v(" "),a("h2",{attrs:{id:"配置-visual-studio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-visual-studio"}},[t._v("#")]),t._v(" "),a("strong",[t._v("配置 Visual Studio")])]),t._v(" "),a("h3",{attrs:{id:"方法一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一"}},[t._v("#")]),t._v(" 方法一")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("新电脑中，无任何 Visual Studio 记录，打开 Visual Studio，选择打开本地文件夹")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_5.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("选择刚才 git 拉取下来的代码，选择 zztx_solution 文件夹，打开")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_6.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("选择管理分支，选择自己的开发分支，双击切换，如下图所示")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_7.png",alt:"图片"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_8.png",alt:"图片"}})])])]),t._v(" "),a("h3",{attrs:{id:"方法二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二"}},[t._v("#")]),t._v(" 方法二")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("打开 Visual Studio，找到设置")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_9.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("打开存储库设置")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_10.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("如果没有存储库地址，请点击添加，如果有，请点击编辑")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_11.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("输入：http://gitlab.midays.com/root/zztx_solution.git，设置完成")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_12.png",alt:"图片"}})])])]),t._v(" "),a("h2",{attrs:{id:"修改本地配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改本地配置文件"}},[t._v("#")]),t._v(" "),a("strong",[t._v("修改本地配置文件")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("因项目有多个运行环境，每个环境的域名、基础服务、数据库都可能不一样，所以配置文件是根据运行环境来配置的。而每个开发人员的个人电脑也属于一个独立的运行环境，所以需要一套自己的配置文件。")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("添加系统环境变量")]),t._v(" "),a("p",[t._v("项目运行在什么环境，该读哪个目录里的配置文件通过系统环境变量来标识。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_13.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("添加变量，变量名为：zztx_hostenv，变量值，为自己的名称首字母")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_14.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("添加自己的配置文件")]),t._v(" "),a("p",[t._v("在代码库中 conf 目录中，复制一份 local 目录，粘贴为上面变量值名称的文件夹，如下图所：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_15.png",alt:"图片"}})]),t._v(" "),a("ol",[a("li",[a("p",[t._v("配置文件中 AppSetting.config 中，有 node 和 redis 的配置，IP 地址需要改成线上开发环境的配置：把 123.206.120.91 换成 111.231.33.61")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_16.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("redis 的配置也需要更换，把 123.206.120.91 换成 111.231.33.61")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_17.png",alt:"图片"}})])]),t._v(" "),a("li",[a("p",[t._v("在 db.config 里面，把数据库的所有 IP 地址换成 111.231.33.61")]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/configuration/configuration_18.png",alt:"图片"}})])])])])]),t._v(" "),a("h2",{attrs:{id:"项目编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目编译"}},[t._v("#")]),t._v(" "),a("strong",[t._v("项目编译")])]),t._v(" "),a("p",[t._v("见《指掌天下项目结构及编译流程说明》")]),t._v(" "),a("p",[t._v("先 执行 "),a("code",[t._v("develop\\zztx_solution\\build")]),t._v(" nuget_all .bat 还原 NUGET 包")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/rudiment/compile.html"}},[t._v("项目结构及编译")])],1),t._v(" "),a("h2",{attrs:{id:"运行系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行系统"}},[t._v("#")]),t._v(" 运行系统")]),t._v(" "),a("p",[t._v("在浏览器地址栏中输入："),a("a",{attrs:{href:"http://localhost/WebSite3/login3",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost/WebSite3/login3"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("测试账号为")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("企业编号")]),t._v(" "),a("th",[t._v("16026")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("登录名")]),t._v(" "),a("td",[t._v("李全友")])]),t._v(" "),a("tr",[a("td",[t._v("登录密码")]),t._v(" "),a("td",[t._v("123456")])])])]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[t._v("注：如果应用访问或 API 调用报“404”错误，可能是 IIS 虚拟目录没创建好，请在项目属性->Web 属性里将“IIS Express”改为“IIS 站点”，如下图所示：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/rudiment/compile/compile_3.jpg",alt:"图片"}})]),t._v(" "),a("blockquote")])}),[],!1,null,null,null);i.default=_.exports}}]);