(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{438:function(t,s,a){"use strict";a.r(s);var r=a(57),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"开发及代码规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发及代码规范"}},[t._v("#")]),t._v(" 开发及代码规范")]),t._v(" "),a("h2",{attrs:{id:"git-commit规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-commit规范"}},[t._v("#")]),t._v(" git commit规范")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("feat")]),t._v(" "),a("td",[t._v("新增feature")])]),t._v(" "),a("tr",[a("td",[t._v("fix")]),t._v(" "),a("td",[t._v("修复bug")])]),t._v(" "),a("tr",[a("td",[t._v("docs")]),t._v(" "),a("td",[t._v("仅仅修改了代码文档，比如 README")])]),t._v(" "),a("tr",[a("td",[t._v("style")]),t._v(" "),a("td",[t._v("修改空格、格式缩进、逗号等，不改变代码逻辑")])]),t._v(" "),a("tr",[a("td",[t._v("refactor")]),t._v(" "),a("td",[t._v("代码重构，没有加新功能或者修复bug")])]),t._v(" "),a("tr",[a("td",[t._v("perf")]),t._v(" "),a("td",[t._v("优化相关，比如提升性能和体验等")])]),t._v(" "),a("tr",[a("td",[t._v("test")]),t._v(" "),a("td",[t._v("测试用例，包括单元测试、集成测试等")])]),t._v(" "),a("tr",[a("td",[t._v("chore")]),t._v(" "),a("td",[t._v("改变构建流程、或者增加依赖库、工具等")])]),t._v(" "),a("tr",[a("td",[t._v("revert")]),t._v(" "),a("td",[t._v("回滚到上一个版本")])])])]),t._v(" "),a("p",[t._v("提示示例：git commit -m 'feat: xxx' (注：冒号后面需要加个空格)")]),t._v(" "),a("p",[t._v("生成后的日志")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("（"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("）\nFeatures\n安装应用页安装（dfabf8f）\n项目初始化（"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("b8f8ba）\n")])])]),a("p",[t._v("推荐插件\ncommitizen\ncz-conventional-changelog")]),t._v(" "),a("p",{attrs:{align:"left"}},[a("a",[a("img",{attrs:{src:"https://img.shields.io/badge/build-passing-blue"}})]),t._v(" "),a("a",{attrs:{href:"http://front.handday.com:9999"}},[a("img",{attrs:{src:"https://img.shields.io/badge/gitter-join%20chat-brightgreen"}})]),t._v(" "),a("a",[a("img",{attrs:{src:"https://img.shields.io/badge/license-platform-brightgreen"}})])]),t._v(" "),a("p",[t._v("🍀 指掌天下重构")]),t._v(" "),a("p",[t._v("项目使用eslint做代码风格检查，并对git commit 提交的内容做了严格要求 采用标准的angular规范")]),t._v(" "),a("p",[a("code",[t._v("0.0.2")]),t._v(" 组织架构")]),t._v(" "),a("h1",{attrs:{id:"commit-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commit-type"}},[t._v("#")]),t._v(" ⚠️ Commit Type")]),t._v(" "),a("ul",[a("li",[t._v("feat:     新功能")]),t._v(" "),a("li",[t._v("fix:      bug 修改")]),t._v(" "),a("li",[t._v("docs:     仅文档修改")]),t._v(" "),a("li",[t._v("style:    不会影响代码含义的更改（空格，格式，缺少分号等）")]),t._v(" "),a("li",[t._v("refactor: 重构（即不是新增功能，也不是修改bug的代码变动）")]),t._v(" "),a("li",[t._v("perf:    改进代码")]),t._v(" "),a("li",[t._v("test:     增加测试")])]),t._v(" "),a("h2",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" 🚀 Examples")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git commit -m 'feat: xxx'\n")])])]),a("p",[t._v("标准提交： 项目内部提供了标准的git-cz 可视化操作")]),t._v(" "),a("ol",[a("li",[t._v("安装依赖")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("进入你想要使用git cz命令的git项目")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("使用 npm run commit 代替git commit\n")])])]),a("h1",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" 🚀 Installation")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("npm install nrm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 镜像管理 设置私服地址   http://192.168.11.29:4873/")]),t._v("\nnpm install \n")])])]),a("h1",{attrs:{id:"feature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#feature"}},[t._v("#")]),t._v(" 🍁 Feature")]),t._v(" "),a("h2",{attrs:{id:"iconfont-图标引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iconfont-图标引用"}},[t._v("#")]),t._v(" 🚧 iconfont 图标引用")]),t._v(" "),a("ol",[a("li",[t._v("文件路径 src/core/IconFont.js")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Icon "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ant-design-vue'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" IconFont "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Icon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createFromIconfontCN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  scriptUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'//at.alicdn.com/t/font_2273066_lc0nq0xr8bf.js'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 iconfont.cn 上生成")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" IconFont\n\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("引用")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("icon"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("font "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iconzhizhang_01"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" IconFont "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/core/IconFont'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\ncomponents"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  IconFont\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),a("blockquote",[a("p",[t._v("当icon有更新时 在iconfont 官网中 选择"),a("font",{attrs:{color:"red",size:"3",face:"STCAIYUN"}},[t._v("Symbol")]),t._v("重新复制代码链接 替换上面代码中的scriptUrl")],1)]),t._v(" "),a("h2",{attrs:{id:"svg-图标引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#svg-图标引用"}},[t._v("#")]),t._v(" 🚧 SVG 图标引用")]),t._v(" "),a("ol",[a("li",[t._v("文件路径 src/core/icons.js")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Custom icon list\n * @see https://vue.ant.design/components/icon/#Custom-Font-Icon\n *\n * 自定义图标加载表\n * 所有图标均从这里加载，方便管理\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" businessPeoples "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/icons/business-peoples.svg?inline'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" loginFail "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/icons/login-fail.svg?inline'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" businessPeoples"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loginFail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" crm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" office"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sell"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" man"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" girl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" empty "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("引用("),a("code",[t._v("当成组件使用")]),t._v(")")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"empty-icon"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" empty "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/core/icons'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\ncomponents"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  empty\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"路由和菜单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由和菜单"}},[t._v("#")]),t._v(" 🚚 路由和菜单")]),t._v(" "),a("p",[t._v("路由和菜单是组织起一个应用的关键骨架，为了方便管理，使用了中心化的方式，在 router.config.js 统一配置和管理。")]),t._v(" "),a("h3",{attrs:{id:"路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 💡路由")]),t._v(" "),a("p",[t._v("目前脚手架中所有的路由都通过 "),a("font",{attrs:{color:"#1890ff",size:"3",face:"STCAIYUN"}},[t._v("router.config.js")]),t._v(" 来统一管理，在  "),a("code",[t._v("vue-router")]),t._v(" 的配置中我们增加了一些参数，如 "),a("code",[t._v("hideChildrenInMenu")]),t._v(","),a("code",[t._v("meta.title")]),t._v(","),a("code",[t._v("meta.icon")]),t._v(","),a("code",[t._v("meta.permission")]),t._v("，来辅助生成菜单。其中：")],1),t._v(" "),a("ul",[a("li",[t._v("hideChildrenInMenu 用于隐藏不需要在菜单中展示的子路由。用法可以查看 个人设置 的配置。")]),t._v(" "),a("li",[t._v("meta.title 和 meta.icon分别代表生成菜单项的文本和图标。")]),t._v(" "),a("li",[t._v("meta.permission 用来配置这个路由的权限，如果配置了将会验证当前用户的权限，并决定是否展示 *（默认情况下）。")])]),t._v(" "),a("h3",{attrs:{id:"菜单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#菜单"}},[t._v("#")]),t._v(" 📙 菜单")]),t._v(" "),a("p",[t._v("菜单根据 "),a("font",{attrs:{color:"#1890ff",size:"3",face:"STCAIYUN"}},[t._v("router.config.js")]),t._v("  生成，具体逻辑在 s"),a("code",[t._v("rc/store/modules/permission.js")]),t._v(" 中的 "),a("code",[t._v("actions.GenerateRoutes")]),t._v(" 方法实现。")],1),t._v(" "),a("p",[t._v("如果你需要从服务器请求菜单，你可以参考 权限管理&动态菜单")]),t._v(" "),a("h3",{attrs:{id:"样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式"}},[t._v("#")]),t._v(" 👗 样式")]),t._v(" "),a("h4",{attrs:{id:"src-assets-mixin-less"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-mixin-less"}},[t._v("#")]),t._v(" src/assets/mixin.less")]),t._v(" "),a("p",[t._v("这里可以放置一些工具函数供调用，比如清除浮动 "),a("code",[t._v(".clearfix")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范"}},[t._v("#")]),t._v(" 规范")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://whimuc.com/RcRzFCiGikmGpkUZDzPzc6/EvNLzS8V8F9MVy.png",alt:""}})]),t._v(" "),a("h1",{attrs:{id:"构建和发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建和发布"}},[t._v("#")]),t._v(" 🔨 构建和发布")]),t._v(" "),a("p",[t._v("当项目开发完毕，只需要运行一行命令就可以打包你的应用：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("$ yarn build\nor\n$ npm run build\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);