(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{443:function(t,v,_){"use strict";_.r(v);var r=_(57),s=Object(r.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"项目结构及编译"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#项目结构及编译"}},[t._v("#")]),t._v(" 项目结构及编译")]),t._v(" "),_("h2",{attrs:{id:"源代码目录"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#源代码目录"}},[t._v("#")]),t._v(" 源代码目录")]),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),_("p",[t._v("目前所有的源前码都存放于“zztx_solution”库中，约定存放于本地磁盘“D:\\develop\\zztx_solution”目录所为根目录，后面提到的“库根目录”都是指此目录。")])]),t._v(" "),_("h2",{attrs:{id:"解决方案对照"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决方案对照"}},[t._v("#")]),t._v(" 解决方案对照")]),t._v(" "),_("ol",[_("li",[_("p",[_("strong",[t._v("全局引用依赖类")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("方案名称")]),t._v(" "),_("th",[t._v("存放目录")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("LogicProject.sln")]),t._v(" "),_("td",[t._v("\\src\\platform.old\\LogicProject")]),t._v(" "),_("td",[t._v("为所有其它项目的底层公共DLL依赖库，需要首先编译")])]),t._v(" "),_("tr",[_("td",[t._v("Common.sln")]),t._v(" "),_("td",[t._v("\\src\\common")]),t._v(" "),_("td",[t._v("为所有应用层项目封装的公共方法库、公共资源文件库")])])])])]),t._v(" "),_("li",[_("p",[_("strong",[t._v("全局API调用类")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("strong",[t._v("方案名称")])]),t._v(" "),_("th",[_("strong",[t._v("存放目录")])]),t._v(" "),_("th",[_("strong",[t._v("备注")])])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("ServicesProject.sln")]),t._v(" "),_("td",[t._v("\\src\\platform.old\\ServicesProject")]),t._v(" "),_("td",[t._v("为所有应用提供基础服务")])]),t._v(" "),_("tr",[_("td",[t._v("facehand.platform.marketing.sln")]),t._v(" "),_("td",[t._v("src\\platform\\facehand.platform.marketing")]),t._v(" "),_("td",[t._v("为互动商城和互动订货提供基础的营销活动服务")])]),t._v(" "),_("tr",[_("td",[t._v("Sms.sln")]),t._v(" "),_("td",[t._v("\\src\\platform\\facehand.platform.sms")]),t._v(" "),_("td",[t._v("为所有需要短信推送服务的应用提供服务")])]),t._v(" "),_("tr",[_("td",[t._v("IMServices3")]),t._v(" "),_("td",[t._v("\\src\\platform\\IMServices3")]),t._v(" "),_("td",[t._v("为所有需要即时消息服务的应用提供服务")])]),t._v(" "),_("tr",[_("td",[t._v("Payment.sln")]),t._v(" "),_("td",[t._v("\\src\\platform\\Payment")]),t._v(" "),_("td",[t._v("为所有需要在线支付的应用提供服务")])]),t._v(" "),_("tr",[_("td",[t._v("Comment.sln")]),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.zhmd.comments")]),t._v(" "),_("td",[t._v("公司社区、公司动态、互动社区等应用的评论系统")])]),t._v(" "),_("tr",[_("td",[t._v("WeixinProject.sln")]),t._v(" "),_("td",[t._v("\\src\\apps.old\\WeixinProject")]),t._v(" "),_("td",[t._v("提供腾讯套件、通讯录变更、应用安装等事回调的API服务")])])])])]),t._v(" "),_("li",[_("p",[_("strong",[t._v("全局Web类")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"center"}},[_("strong",[t._v("方案名称")])]),t._v(" "),_("th",[_("strong",[t._v("存放目录")])]),t._v(" "),_("th",[_("strong",[t._v("项目")])]),t._v(" "),_("th",[_("strong",[t._v("备注")])])])]),t._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("WebProject.sln")]),t._v(" "),_("td",[t._v("\\src\\apps.old\\WebProject")]),t._v(" "),_("td",[t._v("CommunityWeb")]),t._v(" "),_("td",[t._v("公司动态应用")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("WebProject.sln")]),t._v(" "),_("td",[t._v("\\src\\apps.old\\WebProject")]),t._v(" "),_("td",[t._v("CorpPlatformWeb4")]),t._v(" "),_("td",[t._v("提供通讯录管理、所有用的后台配置服务，俗称“大后台”")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("WebProject.sln")]),t._v(" "),_("td",[t._v("\\src\\apps.old\\WebProject")]),t._v(" "),_("td",[t._v("WebSite3")]),t._v(" "),_("td",[t._v("公司管网项目，账号开通、登录入口")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("WebProject.sln")]),t._v(" "),_("td",[t._v("\\src\\apps.old\\WebProject")]),t._v(" "),_("td",[t._v("BusinessPlatformWeb")]),t._v(" "),_("td",[t._v("指掌天下运营后台")])])])])]),t._v(" "),_("li",[_("p",[_("strong",[t._v("应用APP类")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("strong",[t._v("方案名称")])]),t._v(" "),_("th",[_("strong",[t._v("应用")])]),t._v(" "),_("th",[_("strong",[t._v("存放目录")])]),t._v(" "),_("th",[_("strong",[t._v("备注")])])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("Product.sln")]),t._v(" "),_("td",[t._v("产品管理")]),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.zhmd.products")]),t._v(" "),_("td",[t._v("零售和订货通用的产品档案管理")])]),t._v(" "),_("tr",[_("td",[t._v("CRM.sln")]),t._v(" "),_("td",[t._v("互动CRM")]),t._v(" "),_("td",[t._v("\\src\\apps\\CRM")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("SmartOrder.sln")]),t._v(" "),_("td",[t._v("互动订货")]),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.smartorder")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Mall.sln")]),t._v(" "),_("td",[t._v("互动商城")]),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.zhmd.mall")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Member.sln")]),t._v(" "),_("td",[t._v("会员CRM")]),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.zhmd.members")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Transaction.sln")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.zhmd.transaction")]),t._v(" "),_("td",[t._v("互动商城的订单")])]),t._v(" "),_("tr",[_("td",[t._v("Report.sln")]),t._v(" "),_("td",[t._v("工作汇报")]),t._v(" "),_("td",[t._v("\\src\\apps\\Report")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Salary.sln")]),t._v(" "),_("td",[t._v("销售汇报")]),t._v(" "),_("td",[t._v("\\src\\apps\\Salary")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Vcard.sln")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("\\src\\apps\\Vcard")]),t._v(" "),_("td",[t._v("零售会员卡")])]),t._v(" "),_("tr",[_("td",[t._v("rudimentflow.sln")]),t._v(" "),_("td",[t._v("工作审批")]),t._v(" "),_("td",[t._v("\\src\\apps\\rudimentflow")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Birthday.sln")]),t._v(" "),_("td",[t._v("生日管家")]),t._v(" "),_("td",[t._v("\\src\\apps\\Birthday")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("CheckOn.sln")]),t._v(" "),_("td",[t._v("考勤")]),t._v(" "),_("td",[t._v("\\src\\apps\\CheckOn")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Exam.sln")]),t._v(" "),_("td",[t._v("考试")]),t._v(" "),_("td",[t._v("\\src\\apps\\Exam")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("OpenRelation.sln")]),t._v(" "),_("td",[t._v("互动社区")]),t._v(" "),_("td",[t._v("\\src\\apps\\facehand.apps.openrelation")]),t._v(" "),_("td")])])])])]),t._v(" "),_("h2",{attrs:{id:"解决方案依赖"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决方案依赖"}},[t._v("#")]),t._v(" 解决方案依赖")]),t._v(" "),_("p",[_("strong",[t._v("LogicProject.sln")]),t._v("是基础项目，它编译出来的DLL文件会被所有项目所引用。")]),t._v(" "),_("p",[_("span",{staticStyle:{color:"red"}},[t._v("注：此项目的DLL输出目录为“[库根目录]\\ibs\\后台逻辑”，所有项目需要引用时都到此目录中引用。")])]),t._v(" "),_("p",[_("strong",[t._v("Common.sln")]),t._v("是对应用层所用到的一些通用逻辑、缓存、公共接口调用的封装，所有的应用、Web项目都会引用它。")]),t._v(" "),_("p",[_("strong",[t._v("全局API类项目")]),t._v("，是为所有应用提供通用服务的组件，如员工登录授权、附件服务、在线支付等服务。")]),t._v(" "),_("p",[_("strong",[t._v("全局Web类项目")]),t._v("，为其它应用提供一些基础数据支撑，如账号注册、通讯录管理、应用后台配置等。")]),t._v(" "),_("p",[t._v("依赖关系如下图所示：")]),t._v(" "),_("p",[_("img",{attrs:{src:"/rudiment/compile/compile_1.jpg",alt:"图片"}})]),t._v(" "),_("h2",{attrs:{id:"工程结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#工程结构"}},[t._v("#")]),t._v(" 工程结构")]),t._v(" "),_("p",[t._v("走到此步骤相信你已经初步了解我们有哪些解决方案，每个解决方案是做什么用的。此节会将解析解决方案内部的工程结构。")]),t._v(" "),_("p",[t._v("我们每个应用的解决方案按照统一的规范和约定大至分为"),_("span",{staticStyle:{color:"red"}},[_("strong",[t._v("实体、API层和UI层。")])])]),t._v(" "),_("p",[_("strong",[t._v("实体层")]),t._v("：负责定义应用内部共用的Model对像类")]),t._v(" "),_("p",[_("strong",[t._v("API层")]),t._v("：负责实现应用的底层业务逻辑和数据库交互")]),t._v(" "),_("p",[_("strong",[t._v("UI层")]),t._v("：负责据的呈现、用户交互及与API层的数据交互")]),t._v(" "),_("p",[t._v("就互动订货项目为例，")]),t._v(" "),_("p",[t._v("“FaceHand.SmartOrder.Model”项目为实体层，")]),t._v(" "),_("p",[t._v("“FaceHand.SmartOrder.WebAPI”项目为API层，")]),t._v(" "),_("p",[t._v("“FaceHand.SmartOrder.WebUI”为UI层，如下图所示：")]),t._v(" "),_("p",[_("img",{attrs:{src:"/rudiment/compile/compile_2.jpg",alt:"图片"}})]),t._v(" "),_("h2",{attrs:{id:"编译顺序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#编译顺序"}},[t._v("#")]),t._v(" 编译顺序")]),t._v(" "),_("div",{staticClass:"custom-block danger"},[_("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),_("p",[t._v("解决方案之前有相互引用或API调用关系，初次编译时需按照依赖关系自上而下的对每个解决方案依次编译。")])]),t._v(" "),_("ol",[_("li",[t._v("LogicProject.sln，作为所有项目引用的基础项目需要首先编译通过；")]),t._v(" "),_("li",[t._v("Common.sln，作为所有应用层项目封装的公共方法库、公共资源文件库；")]),t._v(" "),_("li",[t._v("全局API调用类解决方案（这里面的每个解决方案之间没有依赖关系，可用不参照顺序执行）；")]),t._v(" "),_("li",[t._v("全局Web类解决方案")]),t._v(" "),_("li",[t._v("应用APP类解决方案（这里面的每个解决方案之间没有依赖关系，可用不参照顺序执行）；")])]),t._v(" "),_("p",[_("span",{staticStyle:{color:"red"}},[t._v("注：因为在打开所有WEB项目或API项目时，Visual Studio会自动创建IIS虚拟目录，所以需要以“管理员”身份运行我们的Visual Studio。")])]),t._v(" "),_("h2",{attrs:{id:"运行系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#运行系统"}},[t._v("#")]),t._v(" 运行系统")]),t._v(" "),_("p",[t._v("在浏览器地址栏中输入："),_("a",{attrs:{href:"http://localhost/WebSite3/login3",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost/WebSite3/login3"),_("OutboundLink")],1)]),t._v(" "),_("p",[t._v("测试账号为")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("企业编号")]),t._v(" "),_("th",[t._v("16026")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("登录名")]),t._v(" "),_("td",[t._v("李全友")])]),t._v(" "),_("tr",[_("td",[t._v("登录密码")]),t._v(" "),_("td",[t._v("123456")])])])]),t._v(" "),_("p",[_("span",{staticStyle:{color:"red"}},[t._v("注：如果应用访问或API调用报“404”错误，可能是IIS虚拟目录没创建好，请在项目属性->Web属性里将“IIS Express”改为“IIS 站点”，如下图所示：")])]),t._v(" "),_("p",[_("img",{attrs:{src:"/rudiment/compile/compile_3.jpg",alt:"图片"}})]),t._v(" "),_("blockquote",[_("p",[_("em",[t._v("最后，能编译能运行只是开始，祝你在指掌天下实现梦想！")])])])])}),[],!1,null,null,null);v.default=s.exports}}]);