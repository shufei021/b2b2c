<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM相关 | Rutils</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.3105f694.css" as="style"><link rel="preload" href="/assets/js/app.d3da0d0a.js" as="script"><link rel="preload" href="/assets/js/2.61f4efb7.js" as="script"><link rel="preload" href="/assets/js/12.b9c23bb6.js" as="script"><link rel="prefetch" href="/assets/js/10.77996e6f.js"><link rel="prefetch" href="/assets/js/11.a585a7fe.js"><link rel="prefetch" href="/assets/js/13.806aebea.js"><link rel="prefetch" href="/assets/js/14.e539194d.js"><link rel="prefetch" href="/assets/js/15.f2670e80.js"><link rel="prefetch" href="/assets/js/16.a4e1c729.js"><link rel="prefetch" href="/assets/js/17.9cde112c.js"><link rel="prefetch" href="/assets/js/18.28234bb0.js"><link rel="prefetch" href="/assets/js/19.1f0e1ac3.js"><link rel="prefetch" href="/assets/js/20.b3ca747a.js"><link rel="prefetch" href="/assets/js/3.4a43822d.js"><link rel="prefetch" href="/assets/js/4.1eb46b88.js"><link rel="prefetch" href="/assets/js/5.c1800bef.js"><link rel="prefetch" href="/assets/js/6.b52f0d4c.js"><link rel="prefetch" href="/assets/js/7.0fbc9987.js"><link rel="prefetch" href="/assets/js/8.94d9702e.js"><link rel="prefetch" href="/assets/js/9.9c79bca2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3105f694.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Rutils</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/library/" class="nav-link router-link-active">
  文档
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/library/" class="nav-link router-link-active">
  文档
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/library/" aria-current="page" class="sidebar-link">前言</a></li><li><a href="/library/base.html" class="sidebar-link">基础</a></li><li><a href="/library/array.html" class="sidebar-link">数组相关</a></li><li><a href="/library/object.html" class="sidebar-link">对象相关</a></li><li><a href="/library/number.html" class="sidebar-link">数字相关</a></li><li><a href="/library/local.html" class="sidebar-link">local</a></li><li><a href="/library/session.html" class="sidebar-link">session</a></li><li><a href="/library/string.html" class="sidebar-link">字符串</a></li><li><a href="/library/url.html" class="sidebar-link">URL</a></li><li><a href="/library/reg.html" class="sidebar-link">正则</a></li><li><a href="/library/dom.html" aria-current="page" class="active sidebar-link">DOM相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/library/dom.html#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/library/dom.html#r-backtop" class="sidebar-link">R.backTop</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-bindevent" class="sidebar-link">R.bindEvent</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-unbindevent" class="sidebar-link">R.unbindEvent</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-trigger" class="sidebar-link">R.trigger</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-bottomvisible" class="sidebar-link">R.bottomVisible</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-contains" class="sidebar-link">R.contains</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-debounce" class="sidebar-link">R.debounce</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-throttle" class="sidebar-link">R.throttle</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-dynamicaddcss" class="sidebar-link">R.dynamicAddCss</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-dynamicaddscript" class="sidebar-link">R.dynamicAddScript</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-getattr" class="sidebar-link">R.getAttr</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-getmaxzindex" class="sidebar-link">R.getMaxZIndex</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-getscrollposition" class="sidebar-link">R.getScrollPosition</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-getscrollxy" class="sidebar-link">R.getScrollXY</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-getstyle" class="sidebar-link">R.getStyle</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-setattr" class="sidebar-link">R.setAttr</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-hide" class="sidebar-link">R.hide</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-isellipsis" class="sidebar-link">R.isEllipsis</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-loadscript" class="sidebar-link">R.loadScript</a></li><li class="sidebar-sub-header"><a href="/library/dom.html#r-smoothscroll" class="sidebar-link">R.smoothScroll</a></li></ul></li></ul></li><li><a href="/library/file.html" class="sidebar-link">文件相关</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom相关"><a href="#dom相关" class="header-anchor">#</a> DOM相关</h1> <h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <table><thead><tr><th>名称</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td><a href="#r-backtop">backTop</a></td> <td style="text-align:left;">回到顶部</td></tr> <tr><td><a href="#r-bindevent">bindEvent</a></td> <td style="text-align:left;">绑定事件</td></tr> <tr><td><a href="#r-unbindevent">unbindEvent</a></td> <td style="text-align:left;">移除事件</td></tr> <tr><td><a href="#r-trigger">trigger</a></td> <td style="text-align:left;">触发原生事件、自定义事件</td></tr> <tr><td><a href="#r-bottomvisible">bottomVisible</a></td> <td style="text-align:left;">滚动条情况下，页面最底部是否出现在可视区域内</td></tr> <tr><td><a href="#r-contains">contains</a></td> <td style="text-align:left;">DOM 元素 <code>A</code> 是否包含在元素 <code>B</code> 节点中，常适用于outclick</td></tr> <tr><td><a href="#r-debounce">debounce</a></td> <td style="text-align:left;">防抖函数</td></tr> <tr><td><a href="#r-throttle">throttle</a></td> <td style="text-align:left;">节流函数</td></tr> <tr><td><a href="#r-dynamicaddcss">dynamicAddCss</a></td> <td style="text-align:left;">动态加载css</td></tr> <tr><td><a href="#r-dynamicaddscript">dynamicAddScript</a></td> <td style="text-align:left;">动态加载js脚本</td></tr> <tr><td><a href="#r-getattr">getAttr</a></td> <td style="text-align:left;">获取元素属性值</td></tr> <tr><td><a href="#r-getmaxzindex">getMaxZIndex</a></td> <td style="text-align:left;">获取DOM中 <code>z-index</code> 最高的元素</td></tr> <tr><td><a href="#r-getscrollposition">getScrollPosition</a></td> <td style="text-align:left;">获取元素的滚动位置坐标</td></tr> <tr><td><a href="#r-getscrollxy">getScrollXY</a></td> <td style="text-align:left;">获取网页被卷去的位置</td></tr> <tr><td><a href="#r-getstyle">getStyle</a></td> <td style="text-align:left;">获取元素样式，如：<code>width</code>、<code>height</code>、<code>padding</code>、<code>margin</code>等</td></tr> <tr><td><a href="#r-hide">hide</a></td> <td style="text-align:left;">隐藏元素</td></tr> <tr><td><a href="#r-isellipsis">isEllipsis</a></td> <td style="text-align:left;">内容是否超出省略</td></tr> <tr><td><a href="#r-loadscript">loadScript</a></td> <td style="text-align:left;">加载外部脚本</td></tr> <tr><td><a href="#r-smoothscroll">smoothScroll</a></td> <td style="text-align:left;">顺滑的滚动到当前元素</td></tr></tbody></table> <h3 id="r-backtop"><a href="#r-backtop" class="header-anchor">#</a> R.backTop</h3> <blockquote><p>回到顶部</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.backTop<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> { string } 回到顶部的元素ID</p> <p>​	1.<code>?value2</code> { string } 按钮距离底部间距, 默认为：<code>100</code></p> <p><strong>返回值：</strong></p> <p>​	<code>void</code></p> <p>​	文件流</p> <p><strong>例子：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>go-top-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  回到顶部
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token function">backTop</span><span class="token punctuation">(</span><span class="token string">'#go-top-btn'</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="r-bindevent"><a href="#r-bindevent" class="header-anchor">#</a> R.bindEvent</h3> <blockquote><p>绑定DOM事件</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>bindEvent<span class="token punctuation">(</span>value1, value2, value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 绑定元素</p> <p>​	2.<code>value2</code> {string} 事件名称，不需要加<code>on</code>前缀</p> <p>​	3.<code>value3</code> {function} 事件回调函数</p> <p><strong>返回值：</strong></p> <p>​	<code>void</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">bindEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token comment">//event</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-unbindevent"><a href="#r-unbindevent" class="header-anchor">#</a> R.unbindEvent</h3> <blockquote><p>解绑事件监听</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.unbindEvent<span class="token punctuation">(</span>value1, value2, value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 元素</p> <p>​	2.<code>value2</code> {string} 事件名称、类型</p> <p>​	3.<code>value3</code> {function} 事件回调处理函数</p> <p><strong>返回值：</strong></p> <p>​	<code>void</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#test-btn&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handlerClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;btn点击事件触发&quot;</span><span class="token punctuation">)</span>
  <span class="token function">unbindEvent</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handlerClick<span class="token punctuation">)</span> <span class="token comment">// 移除事件</span>
<span class="token punctuation">}</span>
<span class="token function">bindEvent</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handlerClick<span class="token punctuation">)</span><span class="token comment">// 绑定事件</span>
</code></pre></div><h3 id="r-trigger"><a href="#r-trigger" class="header-anchor">#</a> R.trigger</h3> <blockquote><p>手动触发已有和自定义事件类型函数</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.trigger<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 元素</p> <p>​	2.<code>value2</code> {string} 事件名称、类型</p> <p><strong>返回值：</strong></p> <p>​	<code>void</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#test-btn&quot;</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;btn点击事件触发&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">trigger</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 触发按钮的click事件</span>
</code></pre></div><h3 id="r-bottomvisible"><a href="#r-bottomvisible" class="header-anchor">#</a> R.bottomVisible</h3> <blockquote><p>滚动条情况下，页面最底部是否出现在可视区域内 。<span style="color:red;">日常用于：上拉加载更多</span></p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.bottomVisible<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	无</p> <p><strong>返回值：</strong></p> <p>​	<code>boolean</code></p> <p>​	true：已出现在可视区域 | false未出现在可视区域</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 滚动到底部分页</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isVisible <span class="token operator">=</span> <span class="token function">bottomVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isVisible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;下一页数据加载中...&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-contains"><a href="#r-contains" class="header-anchor">#</a> R.contains</h3> <blockquote><p>DOM 元素 <code>A</code> 是否包含在元素 <code>B</code> 节点中，常适用于outclick</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.contains<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element|string} 父容器也就是B，选择器或者元素自身；</p> <p>​	1.<code>value2</code> {element|string} 子内容；</p> <p><strong>返回值：</strong></p> <p>​	<code>boolean</code></p> <p>​	true: 包含在父级中 | false:不在传入的容器中</p> <p><strong>例子：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我就是子内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>	
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 1.传递选择器</span>
	<span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'.father-wrap'</span><span class="token punctuation">,</span> <span class="token string">'.sub-content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// =&gt; true</span>
  
  <span class="token comment">// 2.传递元素</span>
  <span class="token function">contains</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.father-wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.sub-content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// =&gt; true</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="r-debounce"><a href="#r-debounce" class="header-anchor">#</a> R.debounce</h3> <blockquote><p>防抖函数，日常用语滚动防抖、input输入防抖等..</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.debounce<span class="token punctuation">(</span>value1, value2, value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {function} 事件处理函数</p> <p>​	1.<code>value2</code> {number} 事件响应函数执行需求的单位时间, 单位：毫秒</p> <p>​	1.<code>?value3</code> {boolean} 是否立即执行</p> <p><strong>返回值：</strong></p> <p>​	<code>function</code></p> <p>​	借助闭包二次包装后的事件处理函数</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.不立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'500毫秒后 go go go~'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token comment">// 2.立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'直接 go go go~'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-throttle"><a href="#r-throttle" class="header-anchor">#</a> R.throttle</h3> <blockquote><p>节流</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.throttle<span class="token punctuation">(</span>value1, value2, value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {function} 事件处理函数</p> <p>​	2.<code>value2</code> {number} 事件响应函数执行需求的单位时间, 单位：毫秒</p> <p>​	3.<code>?value3</code> {object} 配置对象</p> <p>​			3-1.<code>value3.immediate</code> {boolean} 是否为立即执行</p> <p>​			3-2.<code>value3.trailing</code> {boolean} 最后还要执行一次</p> <p><strong>返回值：</strong></p> <p>​	<code>function</code></p> <p>​	借助闭包二次包装后的事件处理函数</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.不立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'500毫秒后 go go go~'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token comment">// 2.立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'直接 go go go~'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  immediate<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-dynamicaddcss"><a href="#r-dynamicaddcss" class="header-anchor">#</a> R.dynamicAddCss</h3> <blockquote><p>动态添加css文件</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.dynamicAddCss<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {string} css文件名，无须写后缀</p> <p>​	2.<code>?value2</code> {string} css文件前缀</p> <p><strong>返回值：</strong></p> <p>​	<code>promise&lt;element&gt;</code></p> <p>​	返回一个link标签</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 引入当前项目中的，common.css文件</span>
<span class="token function">dynamicAddCss</span><span class="token punctuation">(</span><span class="token string">&quot;./style/common&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;css引入成功！&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;css引入失败：&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-dynamicaddscript"><a href="#r-dynamicaddscript" class="header-anchor">#</a> R.dynamicAddScript</h3> <blockquote><p>动态异步加载 <code>script</code> 脚本</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.dynamicAddScript<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value</code> {string | array} 脚本地址，多个则传入数组</p> <p><strong>返回值：</strong></p> <p>​	<code>promise&lt;void&gt;</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.单个加载脚本</span>
<span class="token function">dynamicAddScript</span><span class="token punctuation">(</span><span class="token string">'www.baidu.com/source/js/test.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;脚本加载成功&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;脚本加载失败：&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 1.多个加载脚本,传入数组</span>
<span class="token function">dynamicAddScript</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token string">'www.baidu.com/source/js/test.js'</span><span class="token punctuation">,</span>
  <span class="token string">'www.baidu.com/source/js/test2.js'</span><span class="token punctuation">,</span>
  <span class="token string">'www.baidu.com/source/js/test3.js'</span><span class="token punctuation">,</span>
  <span class="token string">'www.baidu.com/source/js/test4.js'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;脚本加载成功&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;脚本加载失败：&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="r-getattr"><a href="#r-getattr" class="header-anchor">#</a> R.getAttr</h3> <blockquote><p>获取元素的属性值</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.getAttr<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 元素</p> <p>​	2.<code>value2</code> {string} 属性key，如： <code>class</code></p> <p><strong>返回值：</strong></p> <p>​	<code>string</code></p> <p>​	格式化后的文件大小，如：30KB、2MB、50GB....</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getAttr</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-getmaxzindex"><a href="#r-getmaxzindex" class="header-anchor">#</a> R.getMaxZIndex</h3> <blockquote><p>获取DOM中 <code>z-index</code> 最高的元素</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.getMaxZIndex<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	无</p> <p><strong>返回值：</strong></p> <p>​	<code>number</code></p> <p>​	计算层级后的最大值</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getMaxZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; 17</span>
</code></pre></div><h3 id="r-getscrollposition"><a href="#r-getscrollposition" class="header-anchor">#</a> R.getScrollPosition</h3> <blockquote><p>获取元素的滚动位置坐标</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.getScrollPosition<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value</code> {element} 元素</p> <p><strong>返回值：</strong></p> <p>​	<code>object</code></p> <div class="language- extra-class"><pre class="language-text"><code>{
	x: 0,
	y: 300
}
</code></pre></div><p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">getScrollPosition</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; {x: 0, y: 300}</span>
</code></pre></div><h3 id="r-getscrollxy"><a href="#r-getscrollxy" class="header-anchor">#</a> R.getScrollXY</h3> <blockquote><p>获取网页被卷去的位置</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.getScrollXY<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	无</p> <p><strong>返回值：</strong></p> <p>​	<code>object</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 分别为offsetLeft，offsetTop</span>
<span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  y<span class="token operator">:</span>  <span class="token number">200</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getScrollXY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-getstyle"><a href="#r-getstyle" class="header-anchor">#</a> R.getStyle</h3> <blockquote><p>获取元素样式，如：<code>width</code>、<code>height</code>、<code>padding</code>、<code>margin</code>等</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.getStyle<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 元素</p> <p>​	1.<code>value2</code> {string} 属性key</p> <p><strong>返回值：</strong></p> <p>​	<code>string</code></p> <p>​	如：width、height、padding、margin等</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getStyle</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">&quot;width&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;1290px&quot;</span>

<span class="token function">getStyle</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;rgb(44, 62, 80)&quot;</span>
</code></pre></div><h3 id="r-setattr"><a href="#r-setattr" class="header-anchor">#</a> R.setAttr</h3> <blockquote><p>设置元素属性，如：class、id、style等内容</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.setAttr<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 元素</p> <p>​	1.<code>value2</code> {object} 设置的属性对象</p> <p><strong>返回值：</strong></p> <p>​	<code>element</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">setAttr</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
	id<span class="token operator">:</span> <span class="token string">'test-id'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; body</span>
</code></pre></div><h3 id="r-hide"><a href="#r-hide" class="header-anchor">#</a> R.hide</h3> <blockquote><p>隐藏元素</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.hide<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value</code> {string} 元素选择器</p> <p><strong>返回值：</strong></p> <p>​	<code>string</code></p> <p>​	如：width、height、padding、margin等</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">hide</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-isellipsis"><a href="#r-isellipsis" class="header-anchor">#</a> R.isEllipsis</h3> <blockquote><p>内容是否超出省略</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.isEllipsis<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value</code> {element} 元素</p> <p><strong>返回值：</strong></p> <p>​	<code>boolean</code></p> <p>​	true: 超出 | false:未超出</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">isEllipsis</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
<span class="token comment">// =&gt; false</span>
</code></pre></div><h3 id="r-loadscript"><a href="#r-loadscript" class="header-anchor">#</a> R.loadScript</h3> <blockquote><p>动态加载外部js脚本</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.loadScript<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value1</code> {element} 脚本地址URL</p> <p>​	2.<code>value2</code> {object} 属性对象</p> <p><strong>返回值：</strong></p> <p>​	<code>promise&lt;element&gt;</code></p> <p>​	由于操作涉及到异步，返回的是Promise.resolve(res), res为script元素</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.默认使用</span>
<span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">&quot;www.baiu.com/source/js/common.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加载成功：&quot;</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加载失败：&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 2.设置属性</span>
<span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">&quot;www.baiu.com/source/js/common.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&quot;load-script&quot;</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">&quot;sync-load-script&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加载成功：&quot;</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加载失败：&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="r-smoothscroll"><a href="#r-smoothscroll" class="header-anchor">#</a> R.smoothScroll</h3> <blockquote><p>顺滑到某个元素</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>R.smoothScroll<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​	1.<code>value</code> {element} 元素</p> <p><strong>返回值：</strong></p> <p>​	无</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">smoothScroll</span><span class="token punctuation">(</span><span class="token string">&quot;.test-btn&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/library/reg.html" class="prev">
        正则
      </a></span> <span class="next"><a href="/library/file.html">
        文件相关
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d3da0d0a.js" defer></script><script src="/assets/js/2.61f4efb7.js" defer></script><script src="/assets/js/12.b9c23bb6.js" defer></script>
  </body>
</html>
